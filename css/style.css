/* style.css - RealArtMaine (masonry + hover pop-out + dark mode) */

* { margin: 0; padding: 0; box-sizing: border-box; }
html { scrollbar-gutter: stable both-edges; }

body {
  font-family: Arial, Helvetica, sans-serif;
  background: #fff;
  color: #000;
  line-height: 1.6;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  transition: background-color 0.28s ease, color 0.28s ease;
}

/* Dark mode */
body.dark-mode { background: #111; color: #eee; }
body.dark-mode nav { background: #000; }
body.dark-mode footer { background: #222; color: #ccc; }
body.dark-mode .search-bar input { background: #333; color: #fff; border: 1px solid #555; }
body.dark-mode .ad-card { background: #222; color: #aaa; border-color: #555; }
body.dark-mode .modal { background: #111; color: #eee; }
body.dark-mode .caption { color: #eee; }

/* Navigation */
nav {
  display: flex;
  justify-content: center;   /* center Home + Gallery */
  align-items: center;
  gap: 2rem;
  background: black;
  color: white;
  width: 100%;
  padding: 1rem 0;
  position: relative;
  z-index: 20;
}
nav a { color: #fff; text-decoration: none; font-size: 1.1em; letter-spacing: 0.5px; transition: all 0.18s ease; }
nav a:hover { transform: scale(1.07); }
nav a::after { content: ''; display:block; height:2px; width:0; background:#fff; transition:width .18s; margin:0 auto; }
nav a:hover::after { width:100%; }

/* Settings dropdown (gear) - gear is at right, nav stays centered */
.settings-dropdown { position: absolute; right: 18px; top: 50%; transform: translateY(-50%); }
.gear-box { display:inline-block; padding:3px; background:black; border:1px solid #fff; border-radius:6px; }
.gear-icon { width:30px; height:30px; display:block; cursor:pointer; transition:transform .28s ease; }
.gear-icon:hover { transform: rotate(18deg); } /* only the gear rotates */

/* Dropdown box - hidden by default; JS toggles .show */
.dropdown-content {
  display: none;
  position: absolute;
  top: 44px;
  right: 0;
  width: 160px;
  height: 200px;
  background: #222;
  border-radius: 6px;
  box-shadow: 0 8px 22px rgba(0,0,0,0.35);
  z-index: 60;
  padding: 8px;
  overflow: auto;
  display: flex;
  flex-direction: column;
  gap: 8px;
  align-items: center;    /* center horizontally */
  justify-content: flex-start; /* put items near top */
}
.dropdown-content.show { display: flex; }

/* dropdown button (top) */
.dropdown-content button {
  width: 90%;
  padding: 8px;
  background: none;
  border: none;
  cursor: pointer;
  border-radius: 6px;
  display:flex;
  justify-content:center;
  align-items:center;
}
.dropdown-content button:hover { background:#333; color:#fff; }

/* Mode icon inside button */
#modeIcon { width:150px; height:130px; object-fit:contain; display:block; }

/* Main and footer */
main { padding:30px; max-width:1100px; margin:auto; flex:1; }
main h1 { text-align:center; margin-bottom:20px; }
main p { margin-bottom:14px; }

footer {
  background:#f9f9f9; padding:15px 30px; text-align:center;
  font-size:.9em; color:#555; border-top:1px solid #ccc;
}
footer hr { border:none; border-top:1px solid #aaa; margin:10px 0; }

/* Search */
.search-bar { text-align:center; margin:20px 0; }
.search-bar input {
  padding:10px; width:80%; max-width:420px; border:1px solid #333; border-radius:6px; font-size:1em;
}

/* Masonry / puzzle-style gallery */
.gallery {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  grid-auto-rows: 10px; /* base row height (JS uses this) */
  gap: 10px;
  padding: 20px;
}

/* card must allow overflow so hovered image can pop out above neighbors */
.card { position: relative; overflow: visible; border-radius:6px; }

/* placeholder while loading (does NOT scale on hover) */
.loading-placeholder {
  width:100%; display:block; object-fit:cover; border-radius:6px; opacity:.85;
}

/* gallery images */
.gallery-image {
  width:100%; height:auto; display:block; border-radius:6px;
  cursor:pointer;
  transition: transform .26s cubic-bezier(.2,.9,.3,1), box-shadow .26s ease;
  will-change: transform;
  position: relative; z-index: 1;
  backface-visibility: hidden;
}

/* hover pop-out (scales above neighbors) */
.gallery-image:hover {
  transform: scale(1.08);
  z-index: 40;
  box-shadow: 0 14px 30px rgba(0,0,0,0.45);
}

/* fade-in animation for images when they finish loading */
.gallery-image.fade-in { animation: fadeIn .45s ease forwards; }

/* hidden while loading (no hover, no clicks) */
.gallery-image.hidden { display:none; pointer-events:none; }

/* ad card */
.ad-card {
  background:#f8f8f8; border:2px dashed #ccc;
  display:flex; justify-content:center; align-items:center;
  color:#666; font-style:italic; border-radius:6px; min-height:140px;
}

/* Modal / lightbox */
.modal-backdrop {
  position:fixed; inset:0; display:flex; justify-content:center; align-items:center;
  background: rgba(0,0,0,.65); z-index:1100; padding:16px;
}
.modal { background:#fff; border-radius:8px; padding:12px; max-width:92%; max-height:92%; overflow:hidden; box-shadow: 0 18px 50px rgba(0,0,0,.6); }
.modal img { display:block; max-width:100%; max-height:80vh; width:auto; height:auto; border-radius:6px; margin-bottom:8px; }
.caption { font-size:.95rem; color:#111; opacity:.95; }

/* responsive tweaks */
@media (max-width:600px) {
  .gallery { grid-template-columns: repeat(auto-fill, minmax(140px,1fr)); gap:8px; padding:12px; }
  #modeIcon { width:120px; height:90px; }
}

/* fade keyframes */
@keyframes fadeIn {
  from { opacity:0; transform: scale(0.98); }
  to   { opacity:1; transform: scale(1); }
}
